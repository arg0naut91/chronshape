library(neatRanges)
df_collapse <- data.frame(
id = c(rep("1111", 3), rep("2222", 3)),
rating = c("A+", "AA", "AA", rep("B-", 3)),
start_date = c("2014-01-01", "2015-01-01", "2016-01-01",
"2017-01-01", "2018-01-01", "2019-01-01"),
end_date = c("2014-12-31", "2015-12-31", "2016-03-01",
"2017-01-31", "2018-12-31", "2020-02-01")
)
df_collapse[c('start_date', 'end_date')] <- lapply(df_collapse[3:4], as.Date)
df_collapse
collapse_ranges(df_collapse, c("id", "rating"), "start_date", "end_date")[]
collapse_ranges(df_collapse, c("id", "rating"), "start_date", "end_date")[]
